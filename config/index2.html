<!DOCTYPE html>
<html lang="en">
<head>

   <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0",minimum-scale=1.0">                         
	<!-- https://leaflet-extras.github.io usar como libreri para hacer los cmbios-->
    <!-- Load Leaflet: http://leafletjs.com/ --> <!--son las librerias de leaflet-->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css" integrity="sha512-M2wvCLH6DSRazYeZRIm1JnYyh22purTM+FDB5CsyxtQJYeKq83arPe5wgbNmcFXGqiSH2XR8dT/fJISVA1r/zQ==" crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.2.0/dist/leaflet.js" integrity="sha512-lInM/apFSqyy1o6s89K4iQUKg6ppXEgsVxT35HbzUupEVRh2Eu9Wdl4tHj7dZO0s1uvplcYGmt3498TtHq+log==" crossorigin=""></script>

    <!-- Esri Leaflet Plugin: https://esri.github.io/esri-leaflet/ --> <!--son las librerias de leaflet adaptadas a esri-->
    <script src="https://unpkg.com/esri-leaflet@2.1.3/dist/esri-leaflet.js" integrity="sha512-pijLQd2FbV/7+Jwa86Mk3ACxnasfIMzJRrIlVQsuPKPCfUBCDMDUoLiBQRg7dAQY6D1rkmCcR8286hVTn/wlIg==" crossorigin=""></script>

    <!-- ESRI Renderer Plugin: https://github.com/Esri/esri-leaflet-renderers -->
    <!-- Renders feature layer using default symbology as defined by ArcGIS REST service -->
    <!-- Currently doesn't work with ESRI cluster plugin -->
    <script src="https://unpkg.com/esri-leaflet-renderers@2.0.6/dist/esri-leaflet-renderers.js" integrity="sha512-mhpdD3igvv7A/84hueuHzV0NIKFHmp2IvWnY5tIdtAHkHF36yySdstEVI11JZCmSY4TCvOkgEoW+zcV/rUfo0A==" crossorigin=""></script>

    <!-- Load Leaflet Basemap Providers: https://github.com/leaflet-extras/leaflet-providers -->
    <!-- Modified to include USGS TNM web services -->
    <script src="JS/leaflet-providers.js"></script>

    <!-- 2.5D OSM Buildings Classic: https://github.com/kekscom/osmbuildings -->
    <script src="https://cdn.osmbuildings.org/OSMBuildings-Leaflet.js"></script>

    <!-- Load Font Awesome icons -->
    <script src="https://use.fontawesome.com/a64989e3a8.js"></script>

    <!-- Grouped Layer Plugin: https://github.com/ismyrnow/leaflet-groupedlayercontrol  -->
    <link rel="stylesheet" href="CSS/leaflet.groupedlayercontrol.min.css">
    <script src="JS/leaflet.groupedlayercontrol.min.js" type="text/javascript"></script>

    <!-- Overview mini map Plugin: https://github.com/Norkart/Leaflet-MiniMap -->
    <link rel="stylesheet" href="CSS/Control.MiniMap.css">
    <script src="JS/Control.MiniMap.min.js" type="text/javascript"></script>

    <!-- Leaflet Drawing Plugin: https://github.com/codeofsumit/leaflet.pm -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet.pm@latest/dist/leaflet.pm.css">
    <script src="https://unpkg.com/leaflet.pm@latest/dist/leaflet.pm.min.js"></script>

    <!-- Leaflet WMS Plugin: https://github.com/heigeo/leaflet.wms -->
    <script src="JS/leaflet.wms.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <style>
        body {
            padding: 0;
            margin: 0;
        }

        html,
        body,
        #map {
            height: 100%;
        }

    </style>
	<link rel="stylesheet" href="css/estilos.css">
	<link rel="stylesheet" href="css/font-awesome.css">
	<script src="js/jquery-3.2.1.js"></script>
	<script src="js/main.js"></script>
	</head>
	<body>
		<span id="button-menu" class="fa fa-bars"></span>

		<nav class="navegacion">
			<ul class="menu">
				<!-- TITULAR -->
				<li class="title-menu">Mapas Tematicos</li>
				<!-- TITULAR -->
<i class="fas fa-map-marker-plus"></i>
				<li><a href="file:///F:/meneses/index.html"><span class="fa fa-tag icon-menu"></span>A</a></li>
				<li><a href="file:///F:/meneses/index2.html"><span class="fa fa-tag icon-menu"></span>B</a></li>
				<li><a href="file:///F:/meneses/index3.html"><span class="fa fa-tag icon-menu"></span>C</a></li>		
<div class="container">
	<input type="button" style="position: relative;left: 90px; top:40px " class="btn btn-outline-secondary" onclick="location.href='file:///C:/meneses/home.html' 	"value="Home"  name="boton" />

</div>
</ul>
		</nav>
	</body>


    <div id="map"></div>  <!--aqui va el id que sale arriba, dentro del div se ubican los mapas-->

     <script>
        var map = L.map('map', {   <!--se declara la variable map con una sintasis de leafleat que es l.map y va lo que se pone en el id ('map'-->
            center: [-9.340768, -75.095469],   <!--se coloca el centro del mapa en LATITUD Y LONGITUD-->
            zoom: 6   <!--se coloca el zoom-->
        });

        var defaultBase = L.tileLayer.provider('OpenStreetMap').addTo(map);   <!--es un mapa predefinido de fondo en color oscuro que se addiciona al mapa con .addTo -->
"Maapas de base"
        var baseLayers = {  <!--variables por defefecto-->
            'OSM': defaultBase,
            'USGS TNM': L.tileLayer.provider('USGSTNM'),
            'ESRI Imagery': L.tileLayer.provider('Esri.WorldImagery'),
            'ESRI Ocean Basemap': L.tileLayer.provider('Esri.OceanBasemap'),
            'OSM Topo': L.tileLayer.provider('OpenTopoMap'),
			'Stamen Toner': L.tileLayer.provider('Stamen.TonerLite') 
		};

        //Using a relative url to call layer instead of http
        var departamentos = L.tileLayer.wms('http://idesep.senamhi.gob.pe/geoserver/g_00_02/wms', {
            layers: 'g_00_02:00_02_002_03_000_000_0000_00_00',
            format: 'image/png',
            opacity: 0.5,
            tiled: 'true'
        });

        var provincias = L.tileLayer.wms('http://idesep.senamhi.gob.pe/geoserver/g_00_02/wms', {
            layers: 'g_00_02:00_02_003_03_000_000_0000_00_00',
            format: 'image/png',
			transparent: true,
            tiled: 'true'
        });
		
        

        //Using a relative url to call layer instead of http
        var nino83 = L.tileLayer.wms('http://idesep.senamhi.gob.pe/geoserver/g_02_01/wms', {
            layers: 'g_02_01:02_01_001_03_001_512_1983_00_00',
            format: 'image/png',
            transparent: true,
            tiled: 'true'
        });
		var nino1998 = L.tileLayer.wms('http://idesep.senamhi.gob.pe/geoserver/g_02_02/wms', {
            layers: 'g_08_03:08_03_030_03_001_522_2010_12_31',
            format: 'image/png',
            transparent: true,
            tiled: 'true'
        });
        var nino2017 = L.tileLayer.wms('http://idesep.senamhi.gob.pe/geoserver/g_02_04/wms', {
            layers: 'g_02_04:02_04_001_03_001_512_2017_00_00',
            format: 'image/png',
            transparent: true,
            tiled: 'true'
        });
		
        
		

        //Overlay grouped layers    
        var groupOverLays = {
            "Cartografia Base": {
                "Departamentos ": departamentos,
                "Provincias": provincias
				
            },
            "Tematicos B ": {
				"Evento Niño 1983 ": nino83,
				"Evento Niño 1998": nino1998,
                "Evento Niño 2017": nino2017
			
            }
           
			
        };
		
        //add layer switch control  <!--materializa un control, el base layer adicionalo al mapa (map)-->
        L.control.groupedLayers(baseLayers, groupOverLays).addTo(map);  
		
		//add scale bar to map   <!--como agregar una escala grafica al mapa-->
        L.control.scale({
            position: 'bottomleft'
        }).addTo(map);
		
		// Overview mini map  <!--pequeño mapa -->
        var Esri_WorldTopoMap = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
		attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
		});
		
		
		// Overview mini map  <!-- 
        <!-- var Esri_WorldTopoMap = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}', {  <!--fondo de mapa que se puede cambiar -->
            <!-- attribution: '&copy; Esri &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community'-->
        <!--});
		
        var miniMap = new L.Control.MiniMap(Esri_WorldTopoMap, {
            toggleDisplay: true,
            minimized: true,  <!--true si quiero verlo minimizado / false si quiero verlo en grande -->
            position: 'bottomleft'   <!--true si quiero verlo a la derecha o izquierda left o right / arriba o abajo top o bottom-->
        }).addTo(map);
		
		//define Drawing toolbar options   <!--agrega una barra de herramientas -->
        var options = {
            position: 'topleft', // toolbar position, options are 'topleft', 'topright', 'bottomleft', 'bottomright'
            drawMarker: true, // adds button to draw markers
            drawPolyline: true, // adds button to draw a polyline
            drawRectangle: true, // adds button to draw a rectangle
            drawPolygon: true, // adds button to draw a polygon
            drawCircle: true, // adds button to draw a cricle
            cutPolygon: true, // adds button to cut a hole in a polygon
            editMode: true, // adds button to toggle edit mode for all layers
            removalMode: true, // adds a button to remove layers
        };
		
        // add leaflet.pm controls to the map
        map.pm.addControls(options);
		
		// agregar un marcador con coordenada y texto especifico
		var marker = L.marker([  -12.084817, -77.006273 ],{draggable: true}).addTo(map);  
		marker.bindPopup("<b>SENCICO</b><br>Aqui estan nuestras oficinas").openPopup();
		
			
    </script>
	</head>
</html>
